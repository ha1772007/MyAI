<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      }
    };

  </script>
  <script id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/showdown@2.0.3/dist/showdown.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <!-- <script>
    let chatPar = new URLSearchParams(window.location.search)
    let chatid = chatPar.get(chatid);
    if(chatid == undefined){
      chatid = generatechatid();
    }
  </script> -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com/3.4.4"></script>
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'dark-1': '#2a2929',
            'dark-2': '#121212',
            'light-1': '#F8F8F7',
            'light-2': '#F5F5F0',
          }
        }
      }
    }
  </script>

  <style>
    /* Define the animation */
    @keyframes increaseWidth {
      from {
        width: 100px;
        /* Initial width */
      }

      to {
        width: 100%;
        /* Final width */
      }
    }
  </style>
</head>

<body class="w-screen h-screen">
  <div id="infobox"
    class='text-white p-2 spcae-y-2  max-h-[95%] ml-[70vw] flex flex-col items-center w-[30vw] absolute overflow-y-auto z-50'>

  </div>
  <!--Ssetting Toggle -->
  <div onclick="settings()" id='setting_rm_click' class="absolute w-screen h-screen z-10 opacity-5 bg-black hidden">
  </div>
  <!-- /Setting Toggle -->
  <!-- Settings Main -->
  <div id="setting_main" class="hidden absolute w-full h-full z-20 bg-dark-2 text-light-1">
    <div class="h-[5%] bg-dark-1 flex justify-end items-center">
      <img class="mx-2 cursor-pointer" onclick="settings()" src="assests/x.svg" alt="close" srcset="assests/x.svg">
    </div>
    <div class="w-full h-[95%] flex p-2 space-x-2">
      <div class="w-[20%] h-full flex flex-col space-y-2 p-2 ">
        <div onclick="hide_show('models',['models','apperance','preferences','other'])"
          class="w-full rounded-lg hover:bg-dark-1 hover:border-light-1 hover:border-2 p-2 cursor-pointer">Models</div>
        <div onclick="hide_show('apperance',['models','apperance','preferences','other'])"
          class="w-full rounded-lg hover:bg-dark-1 hover:border-light-1 hover:border-2 p-2 cursor-pointer">Apperance
        </div>
        <div onclick="hide_show('preferences',['models','apperance','preferences','other'])"
          class="w-full rounded-lg hover:bg-dark-1 hover:border-light-1 hover:border-2 p-2 cursor-pointer">Preferneces
        </div>
        <div onclick="hide_show('other',['models','apperance','preferences','other'])"
          class="w-full rounded-lg hover:bg-dark-1 hover:border-light-1 hover:border-2 p-2 cursor-pointer">Other</div>
      </div>
      <div class="w-[80%] p-2 ">
        <div id="models" class="flex w-full h-full space-x-2">
          <div class="w-[20%] h-full flex flex-col space-y-2">
            <div onclick="hide_show('model-chat',['model-chat','model-image','model-visual','model-embedding'])"
              class="w-full rounded-lg hover:bg-dark-1 hover:border-light-1 hover:border-2 p-2 cursor-pointer">Chat
            </div>
            <div onclick="hide_show('model-chat',['model-chat','model-image','model-visual','model-embedding'])"
              class="w-full rounded-lg hover:bg-dark-1 hover:border-light-1 hover:border-2 p-2 cursor-pointer">Image
            </div>
            <div onclick="hide_show('model-chat',['model-chat','model-image','model-visual','model-embedding'])"
              class="w-full rounded-lg hover:bg-dark-1 hover:border-light-1 hover:border-2 p-2 cursor-pointer">Visual
            </div>
            <div onclick="hide_show('model-chat',['model-chat','model-image','model-visual','model-embedding'])"
              class="w-full rounded-lg hover:bg-dark-1 hover:border-light-1 hover:border-2 p-2 cursor-pointer">Embedding
            </div>
          </div>
          <div class="w-[80%] h-full">
            <div id="model-chat" class="w-full h-full">
              <div class="w-[50%] mx-[25%] h-[10%] p-2 flex justify-between items-center">
                <div onclick="hide_show('model-chat-select',['model-chat-select','model-chat-search'])"
                  class=" hover:bg-dark-2 rouned-md hover:border-b-2 hover:border-green-600 cursor-pointer px-4">
                  Select</div>
                <div onclick="hide_show('model-chat-search',['model-chat-select','model-chat-search'])"
                  class="hover:bg-dark-2 rouned-md hover:border-b-2 hover:border-green-600 cursor-pointer px-4">
                  Search</div>
              </div>
              <div id="model-chat-select" class="w-full h-[90%] p-2 border-2 rounded-xl ">
                <div class="flex w-full p-4">
                  <div class="w-[30%]"><label for="">Select Provider</label></div>
                  <div class="w-[70%]">
                    <select onchange="set_model_list()" name="chat-provider" class="bg-dark-1 text-light-1 w-[80%]"
                      id="chat-provider">
                      <!-- <option value="groq">Groq</option>
                      <option value="lepton">Lepton</option>
                      <option value="gemini">Gemini</option>
                      <option value="cohere">Cohere</option>
                      <option value="huggingface">Huggingface</option> -->
                    </select>
                  </div>
                </div>
                <div class="flex w-full p-4">
                  <div class="w-[30%]"><label for="">Select Model</label></div>
                  <div class="w-[70%]">
                    <select onchange="set_api_list()" name="chat-model" class="bg-dark-1 text-light-1 w-[80%]"
                      id="chat-model">
                      <!-- <option value="groq">Groq</option>
                      <option value="lepton">Lepton</option>
                      <option value="gemini">Gemini</option>
                      <option value="cohere">Cohere</option>
                      <option value="huggingface">Huggingface</option> -->
                    </select>
                  </div>
                </div>
                <div class="flex w-full p-4">
                  <div class="w-[30%]"><label for="">Select API</label></div>
                  <div class="w-[70%] flex">
                    <select name="chat-api" onchange="set_defaults()" class="bg-dark-1 p-2 text-light-1 w-[80%]"
                      id="chat-api">
                      <!-- <option value="groq">Groq</option>
                      <option value="lepton">Lepton</option> -->
                    </select>
                    <img onclick="add_api($('#chat-provider').val())"
                      class="aspect-square max-h-[5vh] rounded-full flex-grow" src="assests/plus-circle.svg"
                      style='filter:invert(1)' alt="">
                  </div>
                </div>
                <script>
                  $('#chat-provider').select2()
                  $('#chat-model').select2()
                  $('#chat-api').select2()
                </script>
              </div>
              <div id="model-chat-search" class="hidden w-full h-[90%]">
                <div class="h-full w-full overflow-auto">
                  <div class="w-full h-[10vh] flex justify-between items-center p-2">
                    <input onkeypress="update_model_search()" id="search-model"
                      class="h-[9vh] w-full bg-dark-1 text-light-1 rounded-lg p-2" type="text"
                      placeholder="Search for Model or Provider">
                  </div>
                  <div class="h-[90%] w-full">
                    <table class="table-auto w-full h-full overflow-y-auto text-center">
                      <thead>
                        <tr>
                          <th>Provider</th>
                          <th>Model</th>
                          <th>Status</th>
                        </tr>
                      </thead>
                      <tbody id="chat-provider-search-list">
                        <tr class="h-[7vh] hover:border-green-600 border-2">
                          <td>Groq</td>
                          <td>Groq</td>
                          <td>
                            <div class="w-[5%] aspect-square rounded-full bg-green-600 ml-[47.5%]"></div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <div id="'model-image" class="hidden w-full h-full"></div>
            <div id="'model-visual" class="hidden w-full h-full"></div>
            <div id="'model-embedding" class="hidden w-full h-full"></div>
          </div>
        </div>
        <div id="apperance" class="hidden w-full h-full"></div>
        <div id="preferences" class="hidden w-full h-full"></div>
        <div id="other" class="hidden w-full h-full"></div>
      </div>
    </div>

  </div>
  <!-- /Setting main -->
  <div class="w-full h-full flex">
    <div class="av-bar w-[20%] md:w-[10%] lg:w-[7%] xl:w-[5%] bg-dark-2 flex flex-col justify-between">
      <ul class="w-full  flex-col h-auto p-2 space-y-2">
        <li
          class="w-full rounded-lg text-light-1 hover:bg-dark-1 hover:border-light-1 hover:border-2 p-2 aspect-square flex justify-center items-center">
          <img src="assests/home.svg" style="filter: invert(1);" alt="" srcset="">
        </li>
        <li
          class="w-full rounded-lg text-light-1 hover:bg-dark-1 hover:border-light-1 hover:border-2 p-2 aspect-square flex justify-center items-center">
          <img src="assests/code.svg" style="filter: invert(1);" alt="" srcset="">
        </li>
        <li
          class="w-full rounded-lg text-light-1 hover:bg-dark-1 hover:border-light-1 hover:border-2 p-2 aspect-square flex justify-center items-center">
          <img src="assests/book.svg" style="filter: invert(1);" alt="" srcset="">
        </li>
        <li onclick="settings()"
          class="cursor-pointer w-full `1qrounded-lg text-light-1 hover:bg-dark-1 hover:border-light-1 hover:border-2 p-2 aspect-square flex justify-center items-center">
          <img src="assests/settings.svg" style="filter: invert(1);" alt="" srcset="">
        </li>

      </ul>
      <ul class="w-full bottom-0 flex-col h-auto p-2 space-y-2">
        <li
          class="w-full rounded-lg text-light-1 bottom-0 hover:bg-dark-1 hover:border-light-1 hover:border-2 p-2 aspect-square flex justify-center items-center">
          <img src="assests/arrow-left.svg" style="filter: invert(1);" alt="" srcset="">
        </li>
      </ul>
    </div>
    <div class="main h-full w-[95%] bg-dark-1">
      <div class="flex flex-col w-full h-full p-2">
        <div class="h-[90%] flex flex-col w-full">
          <div class="w-full flex h-full">
            <div class="w-[7%] h-full flex justify-center items-center">
              <ul class="w-auto h-auto space-y-10">
                <li class="w-full aspect-square p-2 flex justify-center items-center rounded-full hover:bg-dark-2">
                  <img src="assests/arrow-up.svg" alt="" srcset="">
                </li>
                <li class="w-full aspect-square p-2 flex justify-center items-center rounded-full hover:bg-dark-2">
                  <img src="assests/arrow-down.svg" alt="" srcset="">
                </li>
              </ul>
            </div>
            <div id='message_container'
              class="w-[93%] h-full overflow-y-auto p-2 space-y-4 flex flex-col items-center text-white">
            </div>
          </div>

        </div>
        <div class="h-[10%] bottom=0 w-full flex justify-center items-center ">
          <div class="w-[90%] h-full flex justify-between space-x-2">
            <textarea id='send_input' style="resize: none;" name="" id=""
              class="h-full flex-grow rounded-lg p-2 indent-1"></textarea>
            <button onclick="chain_started()" id='send_button'
              class="h-full p-2 bg-slate-400 rounded-full aspect-square flex justify-center items-center">
              <img src="assests/send.svg" alt="" srcset="">
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Here is the intialization script -->
  <script>
    var ifsetting = false
  </script>

  <!-- Here is Jquery Style Code -->
  <script>
    // Here is GUI/Settings congif

    function settings() {
      $('#setting_main').toggle()
      $('#setting_rm_click').toggle()
      load_settings()
    }
    // Here is ctrl_Enter for message sending
    // script.js
    $(document).ready(function () {
      $('#myTextarea').on('keydown', function (event) {
        if (event.ctrlKey && event.key === 'Enter') {
          event.preventDefault(); // Prevent the default action (newline in textarea)
          callMyFunction();
        }
      });

      function callMyFunction() {
        console.log('Ctrl + Enter was pressed!');
        // Add your function logic here
      }
    });// script.js
    $(document).ready(function () {
      $('#send_input').on('keydown', function (event) {
        if (event.ctrlKey && event.key === 'Enter') {
          event.preventDefault(); // Prevent the default action (newline in textarea)
          chain_started();
        }
      });
    });

  </script>

  <script>
    const timestamp = new Date().getTime();

    const scripts = [
      "js/encoder/main.js",
      "js/cookies.js",
      "js/api.js",
      "js/prompts.js",
      "js/chat/main-new.js",
      "js/chat/append_messages.js",
      "js/websearch/webscout.js",
      "js/info/main.js",
      "js/store/main.js",
      "js/tools.js",
      "js/load_settings_new.js",
    ];

    scripts.forEach(script => {
      const scriptElement = document.createElement('script');
      scriptElement.src = `${script}?r=${timestamp}`;
      document.body.appendChild(scriptElement);
    });
  </script>

  <!-- Conversation Save logics -->
</body>

</html>